YUI.add("moodle-availability_playerhud-form",function(e,l){YUI.add("moodle-availability_playerhud-form",function(n){M.availability_playerhud=M.availability_playerhud||{},M.availability_playerhud.form=n.Base.create("moodle-availability_playerhud-form",n.Plugin.Base,[],{initializer:function(e){this.items=e.items},getNode:function(e){var l,t,i,a='<label class="me-2">Tipo: <select name="subtype" class="form-select d-inline-block w-auto me-3"><option value="level">Nível</option><option value="item">Item</option></select></label>',a=a+'<span class="ph-option-level"><label>Nível Mínimo: <input type="number" name="levelval" class="form-control d-inline-block w-auto" style="width:80px;" min="1" value="1"></label></span>'+'<span class="ph-option-item" style="display:none;"><label class="me-2">Item: <select name="itemid" class="form-select d-inline-block w-auto me-2">';if(this.items&&0<this.items.length)for(l=0;l<this.items.length;l++)a+='<option value="'+this.items[l].id+'">'+n.Escape.html(this.items[l].name)+"</option>";else a+='<option value="0">Nenhum item encontrado no curso</option>';return t=n.Node.create("<span>"+(a=a+"</select></label>"+'<label>Qtd: <input type="number" name="itemqty" class="form-control d-inline-block w-auto" style="width:70px;" min="1" value="1"></label></span>')+"</span>"),(i=t.one("select[name=subtype]")).on("change",function(){"level"===i.get("value")?(t.one(".ph-option-level").show(),t.one(".ph-option-item").hide()):(t.one(".ph-option-level").hide(),t.one(".ph-option-item").show())}),e.subtype&&(i.set("value",e.subtype),"item"===e.subtype?(t.one(".ph-option-level").hide(),t.one(".ph-option-item").show(),e.itemid&&t.one("select[name=itemid]").set("value",e.itemid),e.itemqty&&t.one("input[name=itemqty]").set("value",e.itemqty)):e.levelval&&t.one("input[name=levelval]").set("value",e.levelval)),M.availability_playerhud.form.addedEvents||(M.availability_playerhud.form.addedEvents=!0,(e=n.one("#fitem_id_availabilityconditionsjson")).delegate("change",function(){M.core_availability.form.update()},".availability_playerhud select"),e.delegate("change",function(){M.core_availability.form.update()},".availability_playerhud input")),t},fillValue:function(e,l){var t=l.one("select[name=subtype]").get("value");"level"===(e.subtype=t)?e.levelval=parseInt(l.one("input[name=levelval]").get("value"),10):(e.itemid=parseInt(l.one("select[name=itemid]").get("value"),10),e.itemqty=parseInt(l.one("input[name=itemqty]").get("value"),10))}},{NAME:"availability_playerhud-form",ATTRS:{connection:{getter:function(){return this}}}})},"@VERSION@",{requires:["base","node","event","io","moodle-core_availability-form"]})},"@VERSION@");