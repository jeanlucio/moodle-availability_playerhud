YUI.add("moodle-availability_playerhud-form",function(e,l){YUI.add("moodle-availability_playerhud-form",function(s){M.availability_playerhud=M.availability_playerhud||{},M.availability_playerhud.form=s.Object(M.core_availability.plugin),M.availability_playerhud.form.initInner=function(e){this.items=e||[]},M.availability_playerhud.form.getNode=function(e){var l,t,i,a,n,o='<div class="d-inline-block border p-2 rounded bg-light"><label class="me-2 fw-bold">Tipo: <select name="subtype" class="form-select d-inline-block w-auto me-3"><option value="level">Nível (Level)</option><option value="item">Item</option></select></label>',o=o+'<span class="ph-option-level"><label>Nível Mínimo: <input type="number" name="levelval" class="form-control d-inline-block w-auto" style="width:80px;" min="1" value="1"></label></span>'+'<span class="ph-option-item hidden" style="display:none;"><label class="me-2">Item: <select name="itemid" class="form-select d-inline-block w-auto me-2" style="max-width:200px;">';if(this.items&&0<this.items.length)for(l=0;l<this.items.length;l++)t=s.Escape.html(this.items[l].name),o+='<option value="'+this.items[l].id+'">'+t+"</option>";else o+='<option value="0">('+M.util.get_string("empty","availability_playerhud")+")</option>";return i=s.Node.create(o=o+"</select></label>"+'<label>Qtd: <input type="number" name="itemqty" class="form-control d-inline-block w-auto" style="width:70px;" min="1" value="1"></label></span></div>'),a=i.one("select[name=subtype]"),n=function(){"level"===a.get("value")?(i.one(".ph-option-level").setStyle("display","inline"),i.one(".ph-option-item").setStyle("display","none")):(i.one(".ph-option-level").setStyle("display","none"),i.one(".ph-option-item").setStyle("display","inline"))},a.on("change",function(){n(),M.core_availability.form.update()}),e.subtype&&(a.set("value",e.subtype),"item"===e.subtype?(e.itemid&&i.one("select[name=itemid]").set("value",e.itemid),e.itemqty&&i.one("input[name=itemqty]").set("value",e.itemqty)):e.levelval&&i.one("input[name=levelval]").set("value",e.levelval)),n(),i.all("input, select").on("change",function(){M.core_availability.form.update()}),i},M.availability_playerhud.form.fillValue=function(e,l){var t=l.one("select[name=subtype]").get("value");"level"===(e.subtype=t)?(t=parseInt(l.one("input[name=levelval]").get("value"),10),e.levelval=isNaN(t)?1:t):(t=parseInt(l.one("select[name=itemid]").get("value"),10),l=parseInt(l.one("input[name=itemqty]").get("value"),10),e.itemid=isNaN(t)?0:t,e.itemqty=isNaN(l)?1:l)},M.availability_playerhud.form.fillErrors=function(e,l){var t=l.one("select[name=subtype]").get("value");"item"===t&&parseInt(l.one("select[name=itemid]").get("value"),10)<=0&&e.push("availability_playerhud:error_item_required")}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form","escape"]})},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form","escape"]});