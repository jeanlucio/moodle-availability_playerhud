YUI.add("moodle-availability_playerhud-form",function(e,l){YUI.add("moodle-availability_playerhud-form",function(r){M.availability_playerhud=M.availability_playerhud||{},M.availability_playerhud.form=r.Object(M.core_availability.plugin),M.availability_playerhud.form.items=null,M.availability_playerhud.form.initInner=function(e){this.items=e||[]},M.availability_playerhud.form.getNode=function(e){var l,t,i,a,n=M.util.get_string("option_level","availability_playerhud"),o=M.util.get_string("option_item","availability_playerhud"),s=M.util.get_string("label_min_level","availability_playerhud"),m=M.util.get_string("label_item_qty","availability_playerhud"),u=M.util.get_string("label_type","availability_playerhud"),p='<div class="d-inline-flex align-items-center flex-wrap gap-2 border p-2 rounded bg-light"><label class="mb-0 fw-bold">'+u+' <select name="subtype" class="form-select form-select-sm d-inline-block w-auto ms-1"><option value="level">'+n+'</option><option value="item">'+o+"</option></select></label>",p=p+('<span class="ph-option-level ms-2"><label class="mb-0">'+s+' <input type="number" name="levelval" class="form-control form-select-sm d-inline-block w-auto" style="width: 70px;" min="1" value="1"></label></span>')+'<span class="ph-option-item ms-2" style="display:none;"><label class="mb-0 me-2"><select name="itemid" class="form-select form-select-sm d-inline-block w-auto" style="max-width: 200px;">';if(this.items&&0<this.items.length)for(l=0;l<this.items.length;l++)p+='<option value="'+this.items[l].id+'">'+r.Escape.html(this.items[l].name)+"</option>";else p+='<option value="0">'+M.util.get_string("empty","availability_playerhud")+"</option>";return t=r.Node.create(p=p+"</select></label>"+('<label class="mb-0">'+m+' <input type="number" name="itemqty" class="form-control form-select-sm d-inline-block w-auto" style="width: 70px;" min="1" value="1"></label></span></div>')),i=t.one("select[name=subtype]"),a=function(){"level"===i.get("value")?(t.one(".ph-option-level").setStyle("display","inline"),t.one(".ph-option-item").setStyle("display","none")):(t.one(".ph-option-level").setStyle("display","none"),t.one(".ph-option-item").setStyle("display","inline"))},i.on("change",function(){a(),M.core_availability.form.update()}),e.subtype&&(i.set("value",e.subtype),"item"===e.subtype?(e.itemid&&t.one("select[name=itemid]").set("value",e.itemid),e.itemqty&&t.one("input[name=itemqty]").set("value",e.itemqty)):e.levelval&&t.one("input[name=levelval]").set("value",e.levelval)),a(),t.all("input, select").on("change",function(){M.core_availability.form.update()}),t},M.availability_playerhud.form.fillValue=function(e,l){var t=l.one("select[name=subtype]").get("value");"level"===(e.subtype=t)?e.levelval=parseInt(l.one("input[name=levelval]").get("value"),10)||1:(e.itemid=parseInt(l.one("select[name=itemid]").get("value"),10)||0,e.itemqty=parseInt(l.one("input[name=itemqty]").get("value"),10)||1)},M.availability_playerhud.form.fillErrors=function(e,l){var t=l.one("select[name=subtype]").get("value");"item"===t&&parseInt(l.one("select[name=itemid]").get("value"),10)}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form","escape"]})},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form","escape"]});